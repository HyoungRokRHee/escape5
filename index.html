<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape 6</title>

    <style>
        body {
            margin: 0;
            background: black;
            overflow: hidden;
        }

        #screen {
            width: 100vw;
            height: 100vh;
            object-fit: cover;
        }

        #uiBox {
            position: fixed;
            bottom: 35px;
            width: 100%;
            text-align: center;
        }

        input, button {
            padding: 12px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            margin: 6px 0;
        }

        button {
            background: rgba(255,255,255,0.85);
            font-weight: bold;
        }

        audio {
            width: 80%;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <!-- 이미지 화면 -->
    <img id="screen"
         src="https://github.com/HyoungRokRHee/escape1/raw/main/first.png?raw=true">

    <!-- UI 영역 -->
    <div id="uiBox">

        <!-- 첫 비밀번호 -->
        <div id="pw1Box">
            <input id="pw1" placeholder="비밀번호 입력">
            <br>
            <button onclick="checkPw1()">확인</button>
        </div>

        <!-- 다음 버튼 -->
        <div id="nextBtn" style="display:none;">
            <button onclick="goNext()">다음</button>
        </div>

        <!-- 오디오 + 정답입력 (재사용용) -->
        <div id="quizBox" style="display:none;">
            <audio id="audioPlayer" controls></audio>
            <br>
            <input id="answerInput" placeholder="정답 입력">
            <br>
            <button onclick="checkAnswer()">확인</button>
        </div>

    </div>

<script>
    const screen = document.getElementById("screen");

    let step = 0;

    // 1. 첫 비밀번호 (8877)
    function checkPw1() {
        if (document.getElementById("pw1").value === "8877") {

            screen.src = "https://github.com/HyoungRokRHee/escape5/raw/main/escape6-1.png?raw=true";

            document.getElementById("pw1Box").style.display = "none";
            document.getElementById("nextBtn").style.display = "block";

            step = 1;

        } else {
            alert("비밀번호가 틀렸습니다!");
        }
    }

    // 2. escape6-1 → escape6-11
    function goNext() {
        if (step === 1) {

            screen.src = "https://github.com/HyoungRokRHee/escape5/raw/main/escape6-11.png?raw=true";

            document.getElementById("nextBtn").style.display = "none";
            document.getElementById("quizBox").style.display = "block";

            document.getElementById("audioPlayer").src =
                "https://github.com/HyoungRokRHee/escape1/raw/main/insideout1.mp3?raw=true";

            step = 2;
        }
    }

    // 정답 입력 처리
    function checkAnswer() {
        const answer = document.getElementById("answerInput").value.trim();

        // step 2 → escape6-12
        if (step === 2 && answer === "인사이드아웃2") {

            screen.src = "https://github.com/HyoungRokRHee/escape5/raw/main/escape6-12.png?raw=true";

            document.getElementById("answerInput").value = "";
            document.getElementById("audioPlayer").src =
                "https://github.com/HyoungRokRHee/escape1/raw/main/Zoo1.mp3?raw=true";

            step = 3;
            return;
        }

        // step 3 → escape6-13
        if (step === 3 && answer === "주토피아2") {

            screen.src = "https://github.com/HyoungRokRHee/escape5/raw/main/escape6-13.png?raw=true";

            document.getElementById("answerInput").value = "";
            document.getElementById("audioPlayer").src =
                "https://github.com/HyoungRokRHee/escape1/raw/main/Lee1.mp3?raw=true";

            step = 4;
            return;
        }

        // step 4 → escape6-3
        if (step === 4 && answer === "탈주") {

            screen.src = "https://github.com/HyoungRokRHee/escape5/raw/main/escape6-3.png?raw=true";

            document.getElementById("quizBox").style.display = "none";

            step = 5;
            return;
        }

        alert("정답이 틀렸습니다!");
    }
</script>

</body>
</html>
